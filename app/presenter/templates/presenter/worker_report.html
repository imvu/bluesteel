{% extends "presenter/base.html" %}

{% load staticfiles %}

{% block data_body %}
<div class="container_large container_height">
    <ul class="no_dots no_indent">
        <li>
            <div class="upper_card white_card card_padding_large">
                <div class="title">REPORT {{report.id}}</div>
                <div class="list_label indent_1">date: {{report.date}}</div>
                <div class="list_label indent_1">worker: {{report.worker.uuid}}</div>
            </div>
            {% for set in report.command_group.command_sets %}
                {% if forloop.last %}
                <div class="lower_card white_card card_padding_large">
                {% else %}
                <div class="middle_card white_card card_padding_large">
                {% endif%}
                    <ul class="no_dots no_indent">
                        {% for command in set.commands %}
                        <li>
                            <div class="list_label indent_1">COMMAND</div>
                            <div class="command indent_2">{{command.command}}</div>
                            {% if command.result.out != "" %}
                                <div class="list_label indent_1">OUT</div>
                                <div class="command indent_2">{{command.result.out}}</div>
                            {% endif %}
                            {% if command.result.status != 0 %}
                                <div class="list_label indent_1">ERR (status code: {{command.result.status}})</div>
                                <div class="command indent_2">{{command.result.error}}</div>
                            {% endif %}
                            {% if not forloop.last %}
                                <br/>
                                <br/>
                            {% endif %}
                        </li>
                        {% endfor %}
                    </ul>
                </div>
            {% endfor %}
        </li>
    </ul>
</div>
{% endblock %}
